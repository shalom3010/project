<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Game Menu</title>
<style>
    body, html {
        margin: 0;
        padding: 0;
        overflow: hidden;
        font-family: Arial, sans-serif;
        background: #ffffff;
    }

    /* Background latar */
    #bgRoom {
        position: fixed;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: -2;
    }

    /* Tombol Start */
    #startBtn {
        position: absolute;
        top: 60%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 350px;
        cursor: pointer;
        transition: transform 0.2s, filter 0.2s;
        transform-origin: center bottom;
    }
    #startBtn:hover { 
        transform: translate(-50%, -50%) scale(1.05); 
        filter: drop-shadow(0 0 15px rgba(0,0,0,0.5));
    }

    /* Tombol Setting */
    #settingBtnImg {
        position: absolute;
        top: 20px;
        right: 20px;
        width: 150px;
        cursor: pointer;
        transition: transform 0.2s, filter 0.2s;
        transform-origin: center center;
    }
    #settingBtnImg:hover { 
        transform: scale(1.1); 
        filter: drop-shadow(0 0 15px rgba(0,0,0,0.5));
    }

    /* Overlay */
    #overlay {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.4);
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.25s ease;
        z-index: 5;
    }
    #overlay.active { opacity: 1; pointer-events: auto; }

    /* Panel Setting */
    #settingPanel {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 320px;
        transform: translate(-50%, -50%) scale(0.7);
        background: rgba(255,255,255,0.85);
        padding: 20px;
        border-radius: 15px;
        color: #000;
        opacity: 0;
        pointer-events: none;
        box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        transition: opacity 0.25s ease, transform 0.25s ease;
        text-align: center;
        z-index: 10;
    }
    #settingPanel.active {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
        pointer-events: auto;
    }

    /* Tombol Close “×” */
    #closeSetting {
        position: absolute;
        top: 10px;
        right: 15px;
        font-size: 24px;
        font-weight: bold;
        cursor: pointer;
        color: #333;
        transition: transform 0.2s, color 0.2s;
    }
    #closeSetting:hover {
        color: #ff0000;
        transform: scale(1.2);
    }

    /* Slider Volume Hijau Kotak */
    #volumeSlider {
        width: 100%;
        height: 16px;
        background: #a8ff8a;
        border-radius: 4px;
        outline: none;
        cursor: pointer;
        border: 2px solid #6fc36f;
        margin-top: 10px;
    }
    #volumeSlider::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 20px; height: 20px;
        background: #6fc36f;
        border: 2px solid #4b914b;
        border-radius: 4px;
        cursor: pointer;
        margin-top: -2px;
    }
    #volumeSlider::-moz-range-track { background: #a8ff8a; height:16px; border-radius:4px; }
    #volumeSlider::-moz-range-thumb { width:20px; height:20px; background:#6fc36f; border:2px solid #4b914b; border-radius:4px; cursor:pointer; }

    /* Tombol Mute Gambar */
    #muteInPanelImg {
        width: 150px;
        cursor: pointer;
        margin-top: 15px;
        transition: transform 0.2s, filter 0.2s;
        transform-origin: center bottom;
    }
    #muteInPanelImg:hover { transform: scale(1.1); filter: drop-shadow(0 0 8px rgba(0,0,0,0.5)); }
    #muteInPanelImg:active { animation: bounceClick 0.2s ease; }

    @keyframes bounceClick {
        0% { transform: scale(1); }
        50% { transform: scale(1.15); }
        100% { transform: scale(1); }
    }

</style>
</head>
<body>

<!-- Background Img -->
<img id="bgRoom" src="https://image2url.com/images/1764160639246-587384eb-aa12-474d-986e-016142b34248.png">  

<!-- Background Music -->
<audio id="bgMusic" autoplay loop>
    <source src="https://a.top4top.io/m_361545trl1.mp3" type="audio/mp3">
</audio>

<!-- SFX Klik -->
<audio id="clickSound">
    <source src="https://f.top4top.io/m_3615q8in01.mp3" type="audio/mp3">
</audio>

<!-- Tombol Start -->
<img id="startBtn" src="https://image2url.com/images/1763954666987-65224d57-4c64-4791-b92e-9d335c5d10ea.png">

<!-- Tombol Setting -->
<img id="settingBtnImg" src="https://image2url.com/images/1763954705793-121a2413-8603-4603-9be7-e543e18c3f3a.png">

<!-- Overlay -->
<div id="overlay"></div>

<!-- Panel Setting -->
<div id="settingPanel">
    <span id="closeSetting">×</span>
    <h3 style="margin-top:0;">Pengaturan</h3>
    <label>Volume Musik:</label>
    <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="1">
    <div style="text-align:center;">
        <img id="muteInPanelImg" src="https://image2url.com/images/1763955187976-61e3ab1a-0b3b-47c3-8ab0-8f66ccfe1b72.png" alt="Mute">
    </div>
</div>

<script>
    const bgMusic = document.getElementById("bgMusic");
    const clickSound = document.getElementById("clickSound");

    const startBtn = document.getElementById("startBtn");
    const settingBtnImg = document.getElementById("settingBtnImg");

    const settingPanel = document.getElementById("settingPanel");
    const overlay = document.getElementById("overlay");
    const volumeSlider = document.getElementById("volumeSlider");
    const muteInPanelImg = document.getElementById("muteInPanelImg");
    const closeSetting = document.getElementById("closeSetting");

    /* Autoplay fix */
    document.addEventListener("click", () => {
        bgMusic.muted = false;
        bgMusic.play();
    }, { once: true });

    /* Suara klik semua tombol */
    function playClick() {
        clickSound.currentTime = 0;
        clickSound.play();
    }
    [startBtn, settingBtnImg, muteInPanelImg, closeSetting].forEach(btn => {
        btn.addEventListener("mousedown", playClick);
        btn.addEventListener("touchstart", playClick);
    });

    /* Tombol Start -> pindah ke menu.html */
    startBtn.addEventListener("click", () => {
        playClick();
        window.location.href = "menu_pilihan.html"; // Ganti menu.html sesuai halaman baru
    });

    /* Tombol Setting */
    settingBtnImg.addEventListener("click", () => {
        settingPanel.classList.toggle("active");
        overlay.classList.toggle("active");
    });

    /* Klik overlay untuk menutup panel */
    overlay.addEventListener("click", () => {
        settingPanel.classList.remove("active");
        overlay.classList.remove("active");
    });

    /* Tombol close “×” */
    closeSetting.addEventListener("click", () => {
        settingPanel.classList.remove("active");
        overlay.classList.remove("active");
    });

    /* Slider Volume */
    volumeSlider.addEventListener("input", () => {
        bgMusic.volume = volumeSlider.value;
    });

    /* Tombol Mute di panel */
    muteInPanelImg.addEventListener("click", () => {
        bgMusic.muted = !bgMusic.muted;
        muteInPanelImg.src = bgMusic.muted
            ? "https://image2url.com/images/1763955396010-0b7b0c78-8f9e-4cb0-8045-cd4dfd6acbd3.png"
            : "https://image2url.com/images/1763955187976-61e3ab1a-0b3b-47c3-8ab0-8f66ccfe1b72.png";
    });

</script>
</body>
</html>
