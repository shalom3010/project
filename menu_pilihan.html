<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Menu Pilihan</title>
<style>
    body, html {
        margin: 0;
        padding: 0;
        overflow: hidden;
        font-family: Arial, sans-serif;
        background: #ffffff;
    }

     /* Background latar */
    #bgRoom {
        position: fixed;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: -2;
    }

    /* Tombol Kembali */
    #backBtn {
        position: absolute;
        top: 20px;
        left: 20px;
        width: 150px;
        cursor: pointer;
        transition: transform 0.2s, filter 0.2s;
    }
    #backBtn:hover { transform: scale(1.1); filter: drop-shadow(0 0 10px rgba(0,0,0,0.5)); }

    /* Tombol Setting */
    #settingBtnImg {
        position: absolute;
        top: 20px;
        right: 20px;
        width: 150px;
        cursor: pointer;
        transition: transform 0.2s, filter 0.2s;
        transform-origin: center center;
    }
    #settingBtnImg:hover { 
        transform: scale(1.1);
        filter: drop-shadow(0 0 15px rgba(0,0,0,0.5));
    }

    /* Overlay */
    #overlay {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.4);
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.25s ease;
        z-index: 5;
    }
    #overlay.active { opacity: 1; pointer-events: auto; }

    /* Panel Setting Pop-up */
    #settingPanel {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 320px;
        transform: translate(-50%, -50%) scale(0.7);
        background: rgba(255,255,255,0.85);
        padding: 20px;
        border-radius: 15px;
        color: #000;
        opacity: 0;
        pointer-events: none;
        box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        transition: opacity 0.25s ease, transform 0.25s ease;
        text-align: center;
        z-index: 10;
    }
    #settingPanel.active {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
        pointer-events: auto;
    }

    /* Tombol Close “×” */
    #closeSetting {
        position: absolute;
        top: 10px;
        right: 15px;
        font-size: 50px;
        font-weight: bold;
        cursor: pointer;
        color: #333;
        transition: transform 0.2s, color 0.2s;
    }
    #closeSetting:hover {
        color: #ff0000;
        transform: scale(1.2);
    }

    /* Slider Volume Hijau Kotak */
    #volumeSlider {
        width: 100%;
        height: 16px;
        background: #a8ff8a;
        border-radius: 4px;
        outline: none;
        cursor: pointer;
        border: 2px solid #6fc36f;
        margin-top: 10px;
    }
    #volumeSlider::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 20px; height: 20px;
        background: #6fc36f;
        border: 2px solid #4b914b;
        border-radius: 4px;
        cursor: pointer;
        margin-top: -2px;
    }

    /* Tombol Mute */
    #muteInPanelImg {
        width: 150px;
        cursor: pointer;
        margin-top: 5px;
        transition: transform 0.2s, filter 0.2s;
        transform-origin: center bottom;
    }
    #muteInPanelImg:hover { transform: scale(1.1); filter: drop-shadow(0 0 8px rgba(0,0,0,0.5)); }

    /* Tombol Home */
    #homeIcon {
        width: 150px;
        cursor: pointer;
        margin-top: 5px;
        transition: transform 0.2s, filter 0.2s;
    }
    #homeIcon:hover { transform: scale(1.1); filter: drop-shadow(0 0 8px rgba(0,0,0,0.5)); }

    /* 3 Icon Menu Sejajar */
    .menu-icons {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 75px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }
    .menu-icons img {
        width: 350px;
        cursor: pointer;
        transition: transform 0.2s, filter 0.2s;
    }
    .menu-icons img:hover { transform: scale(1.1); filter: drop-shadow(0 0 10px rgba(0,0,0,0.5)); }

</style>
</head>
<body>

<!-- Background Img -->
<img id="bgRoom" src="https://image2url.com/images/1764160140776-b1e0cf1a-6557-45c3-887d-4b602c332678.png">  

<!-- Background Music -->
<audio id="bgMusic" autoplay loop>
    <source src="https://i.top4top.io/m_3615mtacw1.mp3" type="audio/mp3">
</audio>

<!-- SFX Klik -->
<audio id="clickSound">
    <source src="https://f.top4top.io/m_3615q8in01.mp3" type="audio/mp3">
</audio>

<!-- Tombol Kembali -->
<img id="backBtn" src="https://image2url.com/images/1764002183956-1bed3183-6053-4d97-9b64-ffd6c0898c.png" alt="">

<!-- Tombol Setting -->
<img id="settingBtnImg" src="https://image2url.com/images/1763954705793-121a2413-8603-4603-9be7-e543e18c3f3a.png" alt="Setting">

<!-- Overlay -->
<div id="overlay"></div>

<!-- Panel Setting -->
<div id="settingPanel">
    <span id="closeSetting">×</span>
    <h3 style="margin-top:0;">Pengaturan</h3>
    <label>Volume Musik:</label>
    <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="1">

    <!-- Container tombol Mute/Volume dan Home horizontal -->
    <div style="display:flex; justify-content:center; align-items:center; gap:20px; margin-top:15px;">
        <img id="muteInPanelImg" src="https://image2url.com/images/1763955187976-61e3ab1a-0b3b-47c3-8ab0-8f66ccfe1b72.png" alt="Mute" style="width:150px; cursor:pointer;">
        <img id="homeIcon" src="https://image2url.com/images/1763963926977-0fc775b7-3547-4c49-8fda-22cff486b226.png" alt="Home" style="width:150px; cursor:pointer;">
    </div>
</div>


<!-- 3 Menu Icon Sejajar -->
<div class="menu-icons">
    <img id="menuMembaca" src="https://image2url.com/images/1764001806477-4efb19c0-a9f5-4796-9d7f-9b27d78d3904.png" alt="Membaca">
    <img id="menuMenghitung" src="https://image2url.com/images/1764001823698-ddf34622-621f-42b3-ad5e-4f5d0051c8e3.png" alt="Menghitung">
    <img id="menuMiniGames" src="https://image2url.com/images/1764001837875-2a6b3906-79f1-4e90-b734-202770a8a1e8.png" alt="Mini Games">
</div>

<script>
    const bgMusic = document.getElementById("bgMusic");
    const clickSound = document.getElementById("clickSound");

    const backBtn = document.getElementById("backBtn");
    const settingBtnImg = document.getElementById("settingBtnImg");

    const settingPanel = document.getElementById("settingPanel");
    const overlay = document.getElementById("overlay");
    const volumeSlider = document.getElementById("volumeSlider");
    const muteInPanelImg = document.getElementById("muteInPanelImg");
    const closeSetting = document.getElementById("closeSetting");
    const homeIcon = document.getElementById("homeIcon");

    /* Autoplay fix */
    document.addEventListener("click", () => {
        bgMusic.muted = false;
        bgMusic.play();
    }, { once: true });

    /* Suara klik */
    function playClick() {
        clickSound.currentTime = 0;
        clickSound.play();
    }

    /* Daftar tombol yang dapat bunyi */
    [backBtn, settingBtnImg, muteInPanelImg, closeSetting, homeIcon].forEach(btn => {
        btn.addEventListener("mousedown", playClick);
        btn.addEventListener("touchstart", playClick);
    });

    /* Tombol Kembali */
    backBtn.addEventListener("click", () => {
        window.location.href = "menu_page.html";
    });

    /* Tombol Setting */
    settingBtnImg.addEventListener("click", () => {
        settingPanel.classList.toggle("active");
        overlay.classList.toggle("active");
    });

    overlay.addEventListener("click", () => {
        settingPanel.classList.remove("active");
        overlay.classList.remove("active");
    });

    closeSetting.addEventListener("click", () => {
        settingPanel.classList.remove("active");
        overlay.classList.remove("active");
    });

    /* Slider Volume */
    volumeSlider.addEventListener("input", () => {
        bgMusic.volume = volumeSlider.value;
    });

    /* Tombol Mute */
    muteInPanelImg.addEventListener("click", () => {
        bgMusic.muted = !bgMusic.muted;
        muteInPanelImg.src = bgMusic.muted
            ? "https://image2url.com/images/1763955396010-0b7b0c78-8f9e-4cb0-8045-cd4dfd6acbd3.png"
            : "https://image2url.com/images/1763955187976-61e3ab1a-0b3b-47c3-8ab0-8f66ccfe1b72.png";
    });

    /* Tombol Home */
    homeIcon.addEventListener("click", () => {
        window.location.href = "menu_page.html";
    });

    /* =========================== */
    /*        MENU BARU            */
    /* =========================== */

    document.getElementById("menuMembaca").addEventListener("click", () => {
        playClick();
        setTimeout(() => {
            window.location.href = "membaca.html";
        }, 150);
    });

    document.getElementById("menuMenghitung").addEventListener("click", () => {
        playClick();
        setTimeout(() => {
            window.location.href = "menghitung.html";
        }, 150);
    });

    document.getElementById("menuMiniGames").addEventListener("click", () => {
        playClick();
        setTimeout(() => {
            window.location.href = "game.html";
        }, 150);
    });

</script>
</body>
</html>
